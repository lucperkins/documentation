{{- range .Page.Scratch.Get "popups" }}
{{- $term := index $.Site.Data.popups . }}
{{- $definition := index $term "definition" }}
{{- $relatedTerms := index $term "related" }}
<div class="modal modal--{{ . }}">
  <div class="modal-background"></div>
  <div class="modal-card">
    <section class="modal-card-body">
      <h2 class="is-size-2">{{ title . }}</h2>
      <hr />
      <div class="content">
        {{ $definition | markdownify }}
      </div>
      {{- with $relatedTerms }}
      <h4 class="is-size-4">Related terms</h4>
      <ul>
        {{- range $relatedTerms }}
        <li><a href="/docs/architecture#{{ . }}">{{ . }}</a></li>
        {{- end }}
      </ul>
      {{- end }}
    </section>
  </div>
</div>
{{- end }}
